{
	"eClass" : "net.cloudml.core:CloudMLModel",
	"name" : "SensApp",
	"providers" : [{
			"eClass" : "net.cloudml.core:Provider",
			"name" : "openstack-nova",
			"credentials" : "./credentialsOpenstack",
			"properties" : [{
					"eClass" : "net.cloudml.core:Property",
					"name" : "endPoint",
					"value" : "http://192.168.1.10:5000/v2.0"
				}
			]
		}, {
			"eClass" : "net.cloudml.core:Provider",
			"name" : "aws-ec2",
			"credentials" : "./credentials"
		}, {
			"eClass" : "net.cloudml.core:Provider",
			"name" : "flexiant",
			"credentials" : "./credentialsFlexiant",
			"properties" : [{
					"eClass" : "net.cloudml.core:Property",
					"name" : "endPoint",
					"value" : "https://api.sd1.flexiant.net:4442/userapi"
				}
			]
		}
	],
	"internalComponents" : [{
			"eClass" : "net.cloudml.core:InternalComponent",
			"name" : "SensApp",
			"resources" : [{
					"eClass" : "net.cloudml.core:Resource",
					"name" : "no name",
					"downloadCommand" : "wget -P ~ http://github.com/downloads/SINTEF-9012/sensapp/sensapp.war; wget -P ~ http://cloudml.org/scripts/linux/ubuntu/sensapp/install_start_sensapp.sh",
					"installCommand" : "cd ~; sudo bash install_start_sensapp.sh"
				}
			],
			"providedPorts" : [{
					"eClass" : "net.cloudml.core:ProvidedPort",
					"name" : "rest",
					"isLocal" : false,
					"portNumber" : "8080",
					"component" : "internalComponents[SensApp]"
				}
			],
			"requiredPorts" : [{
					"eClass" : "net.cloudml.core:RequiredPort",
					"name" : "mongoDBRequired",
					"isLocal" : true,
					"portNumber" : "0",
					"isMandatory" : true,
					"component" : "internalComponents[SensApp]"
				}
			],
			"requiredExecutionPlatform" : {
				"eClass" : "net.cloudml.core:RequiredExecutionPlatform",
				"name" : "scRequired",
				"owner" : "internalComponents[SensApp]"
			}
		}, {
			"eClass" : "net.cloudml.core:InternalComponent",
			"name" : "mongoDB",
			"resources" : [{
					"eClass" : "net.cloudml.core:Resource",
					"name" : "no name",
					"downloadCommand" : "wget -P ~ http://cloudml.org/scripts/linux/ubuntu/mongoDB/install_mongoDB.sh",
					"installCommand" : "cd ~; sudo bash install_mongoDB.sh"
				}
			],
			"providedPorts" : [{
					"eClass" : "net.cloudml.core:ProvidedPort",
					"name" : "mongoDB",
					"isLocal" : false,
					"portNumber" : "0",
					"component" : "internalComponents[mongoDB]"
				}
			],
			"requiredExecutionPlatform" : {
				"eClass" : "net.cloudml.core:RequiredExecutionPlatform",
				"name" : "sl",
				"owner" : "internalComponents[mongoDB]"
			}
		}, {
			"eClass" : "net.cloudml.core:InternalComponent",
			"name" : "JettySC",
			"resources" : [{
					"eClass" : "net.cloudml.core:Resource",
					"name" : "no name",
					"downloadCommand" : "wget -P ~ http://cloudml.org/scripts/linux/ubuntu/jetty/install_jetty.sh",
					"installCommand" : "cd ~; sudo bash install_jetty.sh",
					"stopCommand" : "sudo service jetty stop"
				}
			],
			"providedExecutionPlatforms" : [{
					"eClass" : "net.cloudml.core:ProvidedExecutionPlatform",
					"name" : "sc",
					"owner" : "internalComponents[JettySC]"
				}
			],
			"requiredExecutionPlatform" : {
				"eClass" : "net.cloudml.core:RequiredExecutionPlatform",
				"name" : "ml",
				"owner" : "internalComponents[JettySC]"
			}
		}, {
			"eClass" : "net.cloudml.core:InternalComponent",
			"name" : "SensAppAdmin",
			"resources" : [{
					"eClass" : "net.cloudml.core:Resource",
					"name" : "no name",
					"downloadCommand" : "wget -P ~ http://cloudml.org/resources/sensappAdmin/SensAppAdmin.tar; wget -P ~ http://cloudml.org/scripts/linux/ubuntu/sensappAdmin/start_sensappadmin.sh ; wget -P ~ http://cloudml.org/scripts/linux/ubuntu/sensappAdmin/install_sensappadmin.sh ; wget -P ~ http://cloudml.org/resources/sensappAdmin/localTopology.json",
					"installCommand" : "cd ~; sudo bash install_sensappadmin.sh",
					"startCommand" : "cd ~; sudo bash start_sensappadmin.sh",
					"stopCommand" : "sudo rm -rf /opt/jetty/webapps/SensAppGUI ; sudo service jetty restart"
				}
			],
			"requiredPorts" : [{
					"eClass" : "net.cloudml.core:RequiredPort",
					"name" : "restRequired",
					"isLocal" : false,
					"portNumber" : "8080",
					"isMandatory" : true,
					"component" : "internalComponents[SensAppAdmin]"
				}
			],
			"requiredExecutionPlatform" : {
				"eClass" : "net.cloudml.core:RequiredExecutionPlatform",
				"name" : "scRequired",
				"owner" : "internalComponents[SensAppAdmin]"
			}
		}
	],
	"internalComponentInstances" : [{
			"eClass" : "net.cloudml.core:InternalComponentInstance",
			"name" : "jettySC1",
			"type" : "internalComponents[JettySC]",
			"providedExecutionPlatformInstances" : [{
					"eClass" : "net.cloudml.core:ProvidedExecutionPlatformInstance",
					"name" : "sc-1828677033",
					"owner" : "internalComponentInstances[jettySC1]",
					"type" : "internalComponents[JettySC]/providedExecutionPlatforms[sc]"
				}
			],
			"requiredExecutionPlatformInstances" : {
				"eClass" : "net.cloudml.core:RequiredExecutionPlatformInstance",
				"name" : "ml-1896888698",
				"owner" : "internalComponentInstances[jettySC1]",
				"type" : "internalComponents[JettySC]/requiredExecutionPlatform[ml]"
			}
		}, {
			"eClass" : "net.cloudml.core:InternalComponentInstance",
			"name" : "sensApp1",
			"type" : "internalComponents[SensApp]",
			"providedPortInstances" : [{
					"eClass" : "net.cloudml.core:ProvidedPortInstance",
					"name" : "rest28105078",
					"type" : "internalComponents[SensApp]/providedPorts[rest]"
				}
			],
			"requiredPortInstances" : [{
					"eClass" : "net.cloudml.core:RequiredPortInstance",
					"name" : "mongoDBRequired-762559297",
					"type" : "internalComponents[SensApp]/requiredPorts[mongoDBRequired]"
				}
			],
			"requiredExecutionPlatformInstances" : {
				"eClass" : "net.cloudml.core:RequiredExecutionPlatformInstance",
				"name" : "scRequired61515580",
				"owner" : "internalComponentInstances[sensApp1]",
				"type" : "internalComponents[SensApp]/requiredExecutionPlatform[scRequired]"
			}
		}, {
			"eClass" : "net.cloudml.core:InternalComponentInstance",
			"name" : "mongoDB1",
			"type" : "internalComponents[mongoDB]",
			"providedPortInstances" : [{
					"eClass" : "net.cloudml.core:ProvidedPortInstance",
					"name" : "mongoDB-1645444481",
					"type" : "internalComponents[mongoDB]/providedPorts[mongoDB]"
				}
			],
			"requiredExecutionPlatformInstances" : {
				"eClass" : "net.cloudml.core:RequiredExecutionPlatformInstance",
				"name" : "sl-1937379957",
				"owner" : "internalComponentInstances[mongoDB1]",
				"type" : "internalComponents[mongoDB]/requiredExecutionPlatform[sl]"
			}
		}, {
			"eClass" : "net.cloudml.core:InternalComponentInstance",
			"name" : "jettySC2",
			"type" : "internalComponents[JettySC]",
			"providedExecutionPlatformInstances" : [{
					"eClass" : "net.cloudml.core:ProvidedExecutionPlatformInstance",
					"name" : "sc371987144",
					"owner" : "internalComponentInstances[jettySC2]",
					"type" : "internalComponents[JettySC]/providedExecutionPlatforms[sc]"
				}
			],
			"requiredExecutionPlatformInstances" : {
				"eClass" : "net.cloudml.core:RequiredExecutionPlatformInstance",
				"name" : "ml1754362016",
				"owner" : "internalComponentInstances[jettySC2]",
				"type" : "internalComponents[JettySC]/requiredExecutionPlatform[ml]"
			}
		}, {
			"eClass" : "net.cloudml.core:InternalComponentInstance",
			"name" : "sensAppAdmin1",
			"type" : "internalComponents[SensAppAdmin]",
			"requiredPortInstances" : [{
					"eClass" : "net.cloudml.core:RequiredPortInstance",
					"name" : "restRequired1530415492",
					"type" : "internalComponents[SensAppAdmin]/requiredPorts[restRequired]"
				}
			],
			"requiredExecutionPlatformInstances" : {
				"eClass" : "net.cloudml.core:RequiredExecutionPlatformInstance",
				"name" : "scRequired910750221",
				"owner" : "internalComponentInstances[sensAppAdmin1]",
				"type" : "internalComponents[SensAppAdmin]/requiredExecutionPlatform[scRequired]"
			}
		}
	],
	"vms" : [{
			"eClass" : "net.cloudml.core:VM",
			"name" : "ML",
			"minRam" : "1024",
			"maxRam" : "0",
			"minCores" : "1",
			"maxCores" : "0",
			"minStorage" : "10",
			"maxStorage" : "0",
			"os" : "ubuntu",
			"is64os" : true,
			"securityGroup" : "SensApp",
			"sshKey" : "cloudml",
			"groupName" : "sensapp",
			"privateKey" : "cloudml.pem",
			"provider" : "providers[openstack-nova]",
			"imageId" : "RegionOne/9e2877b8-799e-4c87-a9f7-48140b021ba4",
			"properties" : [{
					"eClass" : "net.cloudml.core:Property",
					"name" : "KeyPath",
					"value" : "./cloudml.pem"
				}
			],
			"providedExecutionPlatforms" : [{
					"eClass" : "net.cloudml.core:ProvidedExecutionPlatform",
					"name" : "m1Provided",
					"owner" : "vms[ML]"
				}
			]
		}, {
			"eClass" : "net.cloudml.core:VM",
			"name" : "SL",
			"minRam" : "1000",
			"maxRam" : "0",
			"minCores" : "1",
			"maxCores" : "0",
			"minStorage" : "10",
			"maxStorage" : "0",
			"os" : "ubuntu",
			"is64os" : true,
			"imageId" : "RegionOne/9e2877b8-799e-4c87-a9f7-48140b021ba4",
			"securityGroup" : "SensApp",
			"sshKey" : "cloudml",
			"groupName" : "sensapp-sl",
			"privateKey" : "cloudml.pem",
			"provider" : "providers[openstack-nova]",
			"properties" : [{
					"eClass" : "net.cloudml.core:Property",
					"name" : "KeyPath",
					"value" : "./cloudml.pem"
				}
			],
			"providedExecutionPlatforms" : [{
					"eClass" : "net.cloudml.core:ProvidedExecutionPlatform",
					"name" : "s1Provided",
					"owner" : "vms[SL]"
				}
			]
		}
	],
	"vmInstances" : [{
			"eClass" : "net.cloudml.core:VMInstance",
			"name" : "sensapp-ml1",
			"publicAddress" : "no address given",
			"type" : "vms[ML]",
			"providedExecutionPlatformInstances" : [{
					"eClass" : "net.cloudml.core:ProvidedExecutionPlatformInstance",
					"name" : "m1Provided-541856653",
					"owner" : "vmInstances[sensapp-ml1]",
					"type" : "vms[ML]/providedExecutionPlatforms[m1Provided]"
				}
			]
		}, {
			"eClass" : "net.cloudml.core:VMInstance",
			"name" : "sensapp-sl1",
			"publicAddress" : "no address given",
			"type" : "vms[SL]",
			"providedExecutionPlatformInstances" : [{
					"eClass" : "net.cloudml.core:ProvidedExecutionPlatformInstance",
					"name" : "s1Provided503316483",
					"owner" : "vmInstances[sensapp-sl1]",
					"type" : "vms[SL]/providedExecutionPlatforms[s1Provided]"
				}
			]
		}
	],
	"relationships" : [{
			"eClass" : "net.cloudml.core:Relationship",
			"name" : "SensAppAdminSensApp",
			"requiredPort" : "internalComponents[SensAppAdmin]/requiredPorts[restRequired]",
			"providedPort" : "internalComponents[SensApp]/providedPorts[rest]",
			"requiredPortResource" : {
				"eClass" : "net.cloudml.core:Resource",
				"name" : "no name",
				"downloadCommand" : "get -P ~ http://cloudml.org/scripts/linux/ubuntu/sensappAdmin/configure_sensappadmin.sh",
				"installCommand" : "cd ~; sudo bash configure_sensappadmin.sh"
			}
		}, {
			"eClass" : "net.cloudml.core:Relationship",
			"name" : "SensAppMongoDB",
			"requiredPort" : "internalComponents[SensApp]/requiredPorts[mongoDBRequired]",
			"providedPort" : "internalComponents[mongoDB]/providedPorts[mongoDB]"
		}
	],
	"relationshipInstances" : [{
			"eClass" : "net.cloudml.core:RelationshipInstance",
			"name" : "sensAppAdminSensApp1",
			"type" : "relationships[SensAppAdminSensApp]",
			"requiredPortInstance" : "internalComponentInstances[sensAppAdmin1]/requiredPortInstances[restRequired1530415492]",
			"providedPortInstance" : "internalComponentInstances[sensApp1]/providedPortInstances[rest28105078]"
		}, {
			"eClass" : "net.cloudml.core:RelationshipInstance",
			"name" : "sensAppMongoDB1",
			"type" : "relationships[SensAppMongoDB]",
			"requiredPortInstance" : "internalComponentInstances[sensApp1]/requiredPortInstances[mongoDBRequired-762559297]",
			"providedPortInstance" : "internalComponentInstances[mongoDB1]/providedPortInstances[mongoDB-1645444481]"
		}
	],
	"executesInstances" : [{
			"eClass" : "net.cloudml.core:ExecuteInstance",
			"name" : "runOn-1843705312",
			"providedExecutionPlatformInstance" : "internalComponentInstances[jettySC2]/providedExecutionPlatformInstances[sc371987144]",
			"requiredExecutionPlatformInstance" : "internalComponentInstances[sensAppAdmin1]/requiredExecutionPlatformInstances[scRequired910750221]"
		}, {
			"eClass" : "net.cloudml.core:ExecuteInstance",
			"name" : "runOn657117809",
			"providedExecutionPlatformInstance" : "vmInstances[sensapp-sl1]/providedExecutionPlatformInstances[s1Provided503316483]",
			"requiredExecutionPlatformInstance" : "internalComponentInstances[jettySC2]/requiredExecutionPlatformInstances[ml1754362016]"
		}, {
			"eClass" : "net.cloudml.core:ExecuteInstance",
			"name" : "runOn907058686",
			"providedExecutionPlatformInstance" : "vmInstances[sensapp-ml1]/providedExecutionPlatformInstances[m1Provided-541856653]",
			"requiredExecutionPlatformInstance" : "internalComponentInstances[jettySC1]/requiredExecutionPlatformInstances[ml-1896888698]"
		}, {
			"eClass" : "net.cloudml.core:ExecuteInstance",
			"name" : "runOn-351368953",
			"providedExecutionPlatformInstance" : "vmInstances[sensapp-ml1]/providedExecutionPlatformInstances[m1Provided-541856653]",
			"requiredExecutionPlatformInstance" : "internalComponentInstances[mongoDB1]/requiredExecutionPlatformInstances[sl-1937379957]"
		}, {
			"eClass" : "net.cloudml.core:ExecuteInstance",
			"name" : "runOn-496691735",
			"providedExecutionPlatformInstance" : "internalComponentInstances[jettySC1]/providedExecutionPlatformInstances[sc-1828677033]",
			"requiredExecutionPlatformInstance" : "internalComponentInstances[sensApp1]/requiredExecutionPlatformInstances[scRequired61515580]"
		}
	]
}
